(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-434e77e7"],{"159b":function(t,e,s){var a=s("da84"),o=s("fdbc"),r=s("17c2"),i=s("9112");for(var n in o){var c=a[n],l=c&&c.prototype;if(l&&l.forEach!==r)try{i(l,"forEach",r)}catch(d){l.forEach=r}}},"17c2":function(t,e,s){"use strict";var a=s("b727").forEach,o=s("b301");t.exports=o("forEach")?function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},2475:function(t,e,s){"use strict";var a=s("9c23"),o=s.n(a);o.a},"39a8":function(t,e,s){"use strict";var a=s("a8e0"),o=s.n(a);o.a},4160:function(t,e,s){"use strict";var a=s("23e7"),o=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"9c23":function(t,e,s){},a3e2:function(t,e,s){"use strict";var a=s("d0f5"),o=s.n(a);o.a},a8e0:function(t,e,s){},d0f5:function(t,e,s){},fb48:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticClass:"layout from-layout"},[s("el-header",{staticClass:"goods-created-layout",attrs:{height:"31px"}},[t.routeData.query.path_?s("el-breadcrumb",[s("el-breadcrumb-item",{attrs:{to:{path:t.routeData.query.path_}}},[t._v(" "+t._s(t.routeData.query.title_)+" ")]),s("el-breadcrumb-item",[t._v(t._s(t.routeData.meta.title))])],1):t._e()],1),s("el-main",[s("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"border: 0;"}},[s("div",{staticClass:"from-layout-title",attrs:{slot:"header"},slot:"header"},[s("div",[t._v("订单信息")]),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.show1=!t.show1}}},[t._v(" "+t._s(t.show1?"收起":"展开")+" "),s("i",{class:[t.show1?"el-icon-arrow-up":"el-icon-arrow-down"],staticStyle:{"font-weight":"bolder"}})])],1),s("el-collapse-transition",[s("el-main",{directives:[{name:"show",rawName:"v-show",value:t.show1,expression:"show1"}],staticClass:"card-content"},[s("div",{staticClass:"order-info"},[s("div",{staticClass:"order-item"},[s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("快递公司：")]),t._v(" "+t._s(t.trackingInfo.companyName))],1),s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("快递单号：")]),t._v(" "+t._s(t.trackingInfo.trackingNumber))],1)]),s("div",{staticClass:"order-item"},[s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("下单时间：")]),t._v(" "+t._s(t.formatTime(t.orderTimeInfo.create_time)))],1),s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("付款时间：")]),t._v(" "+t._s(t.formatTime(t.orderTimeInfo.pay_time)))],1),s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("订单编号：")]),t._v(" "+t._s(t.routeData.query.id))],1),s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("订单状态：")]),t._v(" "+t._s(t.orderTimeInfo.statusName))],1)]),s("div",{staticClass:"order-item"},[s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("发货时间：")]),t._v(" "+t._s(t.formatTime(t.orderTimeInfo.dispatch_time)))],1),s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("收货时间：")]),t._v(" "+t._s(t.formatTime(t.orderTimeInfo.received_time)))],1),s("div",{staticClass:"item"},[s("font",{attrs:{color:"#333"}},[t._v("售后状态：")]),t._v(" 无售后")],1)])]),s("div",{staticClass:"goods-info"},[s("el-table",{staticStyle:{width:"100%"},attrs:{border:"","span-method":t.objectSpanMethod,size:"medium",data:t.goodsList}},[s("el-table-column",{attrs:{prop:"goodsId",label:"商品ID"}}),s("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),s("el-table-column",{attrs:{prop:"options",label:"规格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.options(e.row.options.list))+" ")]}}])}),s("el-table-column",{attrs:{prop:"showPrice",label:"展示价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.regFenToYuan(e.row.showPrice))+" ")]}}])}),s("el-table-column",{attrs:{prop:"costPrice",label:"实际价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.regFenToYuan(e.row.costPrice))+" ")]}}])}),s("el-table-column",{attrs:{prop:"address",label:"闪购价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.address||"-")+" ")]}}])}),s("el-table-column",{attrs:{prop:"number",label:"商品数量(件)"}}),s("el-table-column",{attrs:{prop:"totalPrice",label:"商品总价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.regFenToYuan(e.row.totalPrice))+" ")]}}])}),s("el-table-column",{attrs:{prop:"address",label:"店铺优惠券抵扣(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.address||"-")+" ")]}}])}),s("el-table-column",{attrs:{prop:"goodsPrice",label:"实收金额(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"price-info"},[s("div",[t._v(t._s(t.regFenToYuan(e.row.goodsPrice)))]),s("div",[t._v("运费：0")])])]}}])})],1)],1)])],1)],1),s("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"border: 0;"}},[s("div",{staticClass:"from-layout-title",attrs:{slot:"header"},slot:"header"},[s("div",[t._v("买家收货信息")]),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.show2=!t.show2}}},[t._v(" "+t._s(t.show2?"收起":"展开")+" "),s("i",{class:[t.show2?"el-icon-arrow-up":"el-icon-arrow-down"],staticStyle:{"font-weight":"bolder"}})])],1),s("el-collapse-transition",[s("el-main",{directives:[{name:"show",rawName:"v-show",value:t.show2,expression:"show2"}],staticClass:"card-content"},[s("div",{staticClass:"buyer-info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"title"},[t._v("收件人：")]),t._v(" "+t._s(t.contact.name||"-")+" "+t._s(t.contact.phoneNumber)+" ")]),s("div",{staticClass:"item"},[s("div",{staticClass:"title"},[t._v("联系地址：")]),t._v(" "+t._s(t.contact.province||"-")+" "+t._s(t.contact.city)+" "+t._s(t.contact.district)+" "+t._s(t.contact.address)+" ")])])])],1)],1),s("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"border: 0;"}},[s("div",{staticClass:"from-layout-title",attrs:{slot:"header"},slot:"header"},[s("div",[t._v(" 物流信息 ")]),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.show5=!t.show5}}},[t._v(" "+t._s(t.show5?"收起":"展开")+" "),s("i",{class:[t.show5?"el-icon-arrow-up":"el-icon-arrow-down"],staticStyle:{"font-weight":"bolder"}})])],1),s("el-collapse-transition",[s("el-main",{directives:[{name:"show",rawName:"v-show",value:t.show5,expression:"show5"}],staticClass:"card-content"},[t.trackingInfo.companyName&&t.trackingInfo.trackingList.length?[s("div",{staticClass:"buyer-info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"title"},[t._v("物流公司：")]),t._v(" "+t._s(t.trackingInfo.companyName)+" ")]),s("div",{staticClass:"item"},[s("div",{staticClass:"title"},[t._v("快递单号：")]),t._v(" "+t._s(t.trackingInfo.trackingNumber)+" ")])]),s("div",{staticClass:"logistics-info"},[s("el-timeline",{class:{show:t.logisticsShow},attrs:{id:"logisticsShow"}},t._l(t.trackingInfo.trackingList,(function(e,a){return s("el-timeline-item",{key:a,class:{primary:"primary"===e.type},attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,timestamp:e.time}},[t._v(" "+t._s(e.context)+" ")])})),1),s("div",{staticClass:"logistics-more"},[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.showMoreLogistics()}}},[t._v(" "+t._s(t.logisticsShow?"收起更多物流信息":"展开更多物流信息")+" "),s("i",{class:[t.logisticsShow?"el-icon-arrow-up":"el-icon-arrow-down"],staticStyle:{"font-weight":"bolder"}})])],1)],1)]:[t._v("暂无物流信息")]],2)],1)],1),s("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"border: 0;"}},[s("div",{staticClass:"from-layout-title",attrs:{slot:"header"},slot:"header"},[s("div",[t._v("备注")]),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.show3=!t.show3}}},[t._v(" "+t._s(t.show3?"收起":"展开")+" "),s("i",{class:[t.show3?"el-icon-arrow-up":"el-icon-arrow-down"],staticStyle:{"font-weight":"bolder"}})])],1),s("el-collapse-transition",[s("el-main",{directives:[{name:"show",rawName:"v-show",value:t.show3,expression:"show3"}],staticClass:"card-content"},[s("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"medium",data:t.remarkHistory}},[s("el-table-column",{attrs:{prop:"nickName",label:"用户"}}),s("el-table-column",{attrs:{prop:"timeAt",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.timeAt))+" ")]}}])}),s("el-table-column",{attrs:{prop:"message",label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.message||"-")+" ")]}}])})],1)],1)],1)],1),s("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"border: 0;"}},[s("div",{staticClass:"from-layout-title",attrs:{slot:"header"},slot:"header"},[s("div",[t._v("退款信息")]),s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t.show4=!t.show4}}},[t._v(" "+t._s(t.show4?"收起":"展开")+" "),s("i",{class:[t.show4?"el-icon-arrow-up":"el-icon-arrow-down"],staticStyle:{"font-weight":"bolder"}})])],1),s("el-collapse-transition",[s("el-main",{directives:[{name:"show",rawName:"v-show",value:t.show4,expression:"show4"}],staticClass:"card-content"},[s("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"medium",data:t.backPay}},[s("el-table-column",{attrs:{prop:"date",label:"退款"}}),s("el-table-column",{attrs:{prop:"name",label:"退款金额（元）"}}),s("el-table-column",{attrs:{prop:"address",label:"申请时间"}}),s("el-table-column",{attrs:{prop:"address",label:"申请人"}}),s("el-table-column",{attrs:{prop:"address",label:"备注"}}),s("el-table-column",{attrs:{prop:"address",label:"退款状态"}}),s("el-table-column",{attrs:{prop:"address",label:"退款时间"}})],1)],1)],1)],1)],1)],1)},o=[],r=(s("4160"),s("e25e"),s("159b"),s("96cf"),s("89ba")),i=s("3828"),n=s("4279"),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])("/api/mall/manager/order/info",{id:t.id},"POST")},l={name:"",data:function(){return{logisticsShow:!1,show1:!0,show2:!0,show3:!0,show4:!0,show5:!0,goodsList:[],contact:{},remarkHistory:[],orderTimeInfo:{},backPay:[],trackingInfo:{statusName:"-",trackingNumber:"-",companyName:"",trackingList:[]}}},computed:{routeData:function(){return this.$route}},watch:{routeData:{handler:function(){this.getOrderInfo()},immediate:!0}},methods:{formatTime:function(t){var e="-";if(t){var s=parseInt(t);s&&(e=Object(i["b"])(s))}return e},regFenToYuan:i["e"],objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,s=t.columnIndex;if(9===s)return e%2===0?{rowspan:this.goodsList.length,colspan:1}:{rowspan:0,colspan:0}},options:function(t){var e="";return t&&t.length&&t.forEach((function(t){e+=t.value+"-"})),e.substring(0,e.length-1)},showMoreLogistics:function(){document.getElementById("logisticsShow").scrollTop=0,this.logisticsShow=!this.logisticsShow},getOrderInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a,o,r,n,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.routeData.query.id,this.routeData.query&&e){t.next=4;break}return Object(i["c"])(this,"页面出错了，请退出后重试"),t.abrupt("return",new Error("路由无订单id"));case 4:return t.next=6,c({id:e});case 6:if(s=t.sent,a=s.code,o=s.msg,r=s.result,a===i["a"].success){t.next=13;break}return Object(i["c"])(this,o),t.abrupt("return");case 13:n=r.trackingInfo,l=r.order,d=r.remarkHistory,l&&(this.orderTimeInfo={create_time:l.createTime||0,pay_time:l.payTime||0,dispatch_time:l.dispatchTime||0,received_time:l.receivedTime||0,statusName:l.statusName||"-"},this.contact=r.order.contact,this.goodsList=r.order.goodsList.list,this.goodsList.forEach((function(t){t.goodsPrice=r.order.price}))),d.length&&d&&(this.remarkHistory=d),n&&(this.trackingInfo.statusName=r.trackingInfo.statusName||"-",this.trackingInfo.trackingNumber=r.trackingInfo.trackingNumber||"-",this.trackingInfo.companyName=r.trackingInfo.companyName||"-",this.trackingInfo.trackingList=JSON.parse(r.trackingInfo.trackingList),this.trackingInfo.trackingList.forEach((function(t,e){t.color="#eee",t.size="large",0===e&&(t.icon="el-icon-success",t.type="primary",t.color="#26af61")})));case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},d=l,u=(s("2475"),s("39a8"),s("a3e2"),s("2877")),m=Object(u["a"])(d,a,o,!1,null,"680b5b1a",null);e["default"]=m.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-434e77e7.production.1582706353542.js.map