{"version":3,"sources":["webpack:///./src/views/container/createArticle/index.vue?2a7b","webpack:///./src/views/container/createArticle/controller/request.js","webpack:///./src/views/container/createArticle/controller/index.js","webpack:///src/views/container/createArticle/index.vue","webpack:///./src/views/container/createArticle/index.vue?2cb1","webpack:///./src/views/container/createArticle/index.vue","webpack:///./src/views/container/createArticle/css/global.scss?72a2","webpack:///./src/components/videoUpload/index.vue?e3d0","webpack:///src/components/videoUpload/index.vue","webpack:///./src/components/videoUpload/index.vue?98ef","webpack:///./src/components/videoUpload/index.vue","webpack:///./src/components/videoUpload/index.vue?d3f5","webpack:///./src/views/container/articleManage/request.js","webpack:///./src/views/container/createArticle/css/index.scss?18ea"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","routeData","query","path","path_","_v","_s","title_","meta","title","_e","directives","name","rawName","value","expression","ref","rules","form","slot","on","$event","show1","class","staticStyle","model","callback","$$v","$set","_l","item","key","id","cover","width","height","video","show3","details","editLayout","isRelease","save","dialogVisible","domProps","goodsInfo","staticRenderFns","createContent","params","ajax","getContentInfo","data","contentTypeList","show2","progress","count","status","type","describe","tags","loading","faceList","editorContent","FILE_TYPE_AVATAR","process","SUCC_CODE","ERR_TOKEN_CODE","required","message","trigger","min","max","isDraft","goodsInfoOrigin","tagsList","isLoading","components","CollapseTransition","editor","imageUpload","videoUpload","created","getContentInfoData","computed","mapState","isEdit","Boolean","goodsId","$route","methods","contentId","code","STATUS_CODE","success","errorMsg","msg","jsonDeepClone","result","content","contentInfo","goodsForm","$refs","validate","valid","warningMsg","trim","undefined","response","setTimeout","successMsg","$router","replace","component","videoSelect","videoUrl","isUpload","customColor","exception","stopPropagation","cancelUpload","client","props","String","default","watch","handler","val","immediate","cancel","getContentList","page","pageSize","keyword","updateStatus"],"mappings":"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","file":"js/chunk-0ad79cec.production.1582706353542.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"layout\"},[_c('el-header',{staticClass:\"goods-created-layout\",attrs:{\"height\":\"31px\"}},[(_vm.routeData.query.path_)?_c('el-breadcrumb',[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: _vm.routeData.query.path_ }}},[_vm._v(\" \"+_vm._s(_vm.routeData.query.title_)+\" \")]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.routeData.meta.title))])],1):_vm._e()],1),_c('el-main',[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"goodsForm\",staticClass:\"from-layout\",attrs:{\"rules\":_vm.rules,\"size\":\"medium\",\"label-position\":\"left\",\"model\":_vm.form}},[_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"body-style\":\"border: 0;\"}},[_c('div',{staticClass:\"from-layout-title\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',[_vm._v(\"基本信息\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.show1 = !_vm.show1}}},[_vm._v(\" \"+_vm._s(_vm.show1 ? \"收起\" : \"展开\")+\" \"),_c('i',{class:[_vm.show1 ? 'el-icon-arrow-up' : 'el-icon-arrow-down'],staticStyle:{\"font-weight\":\"bolder\"}})])],1),_c('el-collapse-transition',[_c('el-main',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show1),expression:\"show1\"}],staticClass:\"card-content\"},[_c('el-form-item',{attrs:{\"label\":\"内容分类\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择内容分类\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.contentTypeList),function(item){return _c('el-option',{key:item.id,staticStyle:{\"width\":\"217px\"},attrs:{\"label\":item.name,\"title\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"内容标题\",\"prop\":\"title\"}},[_c('el-input',{staticStyle:{\"width\":\"350px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入内容标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"内容描述\",\"prop\":\"describe\"}},[_c('el-input',{staticStyle:{\"width\":\"750px\"},attrs:{\"type\":\"textarea\",\"maxlength\":\"200\",\"show-word-limit\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入内容描述\"},model:{value:(_vm.form.describe),callback:function ($$v) {_vm.$set(_vm.form, \"describe\", $$v)},expression:\"form.describe\"}})],1),_c('el-form-item',[_c('template',{slot:\"label\"},[_c('font',{attrs:{\"color\":\"#F56C6C\"}},[_vm._v(\"*\")]),_vm._v(\" 视频封面 \")],1),_c('image-upload',{attrs:{\"image\":_vm.form.cover,\"size\":{width: 430, height: 240}},on:{\"update:image\":function($event){return _vm.$set(_vm.form, \"cover\", $event)}}})],2),_c('el-form-item',{attrs:{\"prop\":\"video\"}},[_c('template',{slot:\"label\"},[_c('font',{attrs:{\"color\":\"#F56C6C\"}},[_vm._v(\"*\")]),_vm._v(\" 商品视频 \")],1),_c('video-upload',{attrs:{\"video\":_vm.form.video},on:{\"update:video\":function($event){return _vm.$set(_vm.form, \"video\", $event)}}})],2)],1)],1)],1),_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"body-style\":\"border: 0;\"}},[_c('div',{staticClass:\"from-layout-title\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',[_vm._v(\"内容详情\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.show3 = !_vm.show3}}},[_vm._v(\" \"+_vm._s(_vm.show3 ? \"收起\" : \"展开\")+\" \"),_c('i',{class:[_vm.show3 ? 'el-icon-arrow-up' : 'el-icon-arrow-down'],staticStyle:{\"font-weight\":\"bolder\"}})])],1),_c('el-collapse-transition',[_c('el-main',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show3),expression:\"show3\"}],staticClass:\"card-content\"},[_c('div',{staticClass:\"form-titles\"},[_c('font',{attrs:{\"color\":\"#F56C6C\"}},[_vm._v(\"*\")]),_vm._v(\" 内容正文 \")],1),_c('editor',{attrs:{\"content\":_vm.form.details,\"layout\":_vm.editLayout},on:{\"update:content\":function($event){return _vm.$set(_vm.form, \"details\", $event)}}})],1)],1)],1),_c('el-form-item',{staticClass:\"from-operation\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isRelease,\"loading\":_vm.isRelease},on:{\"click\":function($event){return _vm.save('goodsForm')}}},[_vm._v(\"保存\")])],1)],1)],1),_c('el-dialog',{staticClass:\"goodsInfoView-box\",attrs:{\"title\":\"内容详情预览\",\"fullscreen\":\"\",\"visible\":_vm.dialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"goodsInfoView-content\",domProps:{\"innerHTML\":_vm._s(_vm.form.goodsInfo)}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ajax from \"@/api/ajax\";\r\n\r\n/**\r\n * 创建/编辑内容\r\n * @method\r\n * @param {Object} params 内容参数信息\r\n * @return {Object} 返回值 包括code,msg,result\r\n */\r\nexport const createContent = params =>\r\n  ajax(\"/api/mall/manager/content/info/put\", params, \"POST\");\r\n/**\r\n * 根据条件查询内容列表\r\n * @method\r\n * @param {Object} params 内容参数信息\r\n * @return {Object} 返回值 包括code,msg,result\r\n */\r\nexport const getGoodsList = (params = {}) =>\r\n  ajax(\r\n    \"/api/mall/manager/goods/info/list\",\r\n    {\r\n      page: params.page,\r\n      pageSize: params.pageSize,\r\n      name: params.name,\r\n      classId: params.classId\r\n    },\r\n    \"POST\"\r\n  );\r\n/**\r\n *\r\n * 根据条件查询内容详情\r\n * @method\r\n * @param {Object} params 内容参数信息\r\n * @return {Object} 返回值 包括code,msg,result\r\n */\r\nexport const getContentInfo = (params = {}) =>\r\n  ajax(\r\n    \"/api/mall/manager/content/info/get\",\r\n    {\r\n      id: params.id\r\n    },\r\n    \"POST\"\r\n  );\r\n","/**\r\n *  Created by wangAlen on 2019-11-12 11:49\r\n */\r\nimport { mapState } from \"vuex\";\r\nimport {\r\n  warningMsg,\r\n  successMsg,\r\n  uuid,\r\n  jsonDeepClone,\r\n  STATUS_CODE,\r\n  errorMsg\r\n} from \"@/commonutils/common\";\r\nimport { createContent, getContentInfo } from \"./request\";\r\nimport CollapseTransition from \"element-ui/lib/transitions/collapse-transition\";\r\nimport editor from \"@/components/editor\";\r\nimport { contentTypeList } from \"../../articleManage/request\";\r\nimport imageUpload from \"@/components/imageUpload\";\r\nimport videoUpload from \"@/components/videoUpload\";\r\n\r\nexport default {\r\n  name: \"CreateGoods\",\r\n  data() {\r\n    return {\r\n      contentTypeList: contentTypeList,\r\n      show1: true,\r\n      show2: true,\r\n      show3: true,\r\n      progress: {\r\n        count: 0,\r\n        status: \"\"\r\n      },\r\n      form: {\r\n        type: \"\", // 内容类别\r\n        describe: \"\", // 内容描述\r\n        title: \"\", // 内容名称\r\n        cover: \"\", // 内容主图列表\r\n        tags: [], // 内容标签列表\r\n        video: \"\", // 内容视频\r\n        details: \"\" // 富文本\r\n      },\r\n      loading: false,\r\n      faceList: [],\r\n      editorContent: \"\",\r\n      FILE_TYPE_AVATAR: process.env.VUE_APP_FILE_TYPE_AVATAR,\r\n      SUCC_CODE: process.env.VUE_APP_BASE_SUCC_CODE,\r\n      ERR_TOKEN_CODE: process.env.VUE_APP_BASE_ERR_TOKEN_CODE,\r\n      rules: {\r\n        title: [\r\n          {\r\n            required: true,\r\n            message: \"请输入内容名称\",\r\n            trigger: [\"change\"]\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 50,\r\n            message: \"长度在 2 到 50 个字符\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        describe: [\r\n          {\r\n            required: true,\r\n            message: \"请输入内容描述\",\r\n            trigger: [\"change\"]\r\n          }\r\n        ],\r\n        type: [{ required: true, message: \"请选择内容分类\", trigger: \"change\" }]\r\n      },\r\n      isDraft: false,\r\n      isRelease: false,\r\n      goodsInfoOrigin: {},\r\n      tagsList: [],\r\n      dialogVisible: false,\r\n      isLoading: false,\r\n      editLayout: {\r\n        width: \"100%\",\r\n        height: \"400px\"\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    CollapseTransition,\r\n    editor,\r\n    imageUpload,\r\n    videoUpload\r\n  },\r\n  created() {\r\n    this.getContentInfoData();\r\n  },\r\n  computed: {\r\n    ...mapState([\"user\", \"aliyunOss\"]),\r\n    /**\r\n     * 是否可编辑\r\n     * @returns {boolean} 编辑状态\r\n     */\r\n    isEdit() {\r\n      return Boolean(this.routeData.query.goodsId);\r\n    },\r\n    /**\r\n     * 路由信息\r\n     * @returns {Route} 路由信息\r\n     */\r\n    routeData() {\r\n      return this.$route;\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 根据路由id查询内容详情\r\n     * @returns {Promise<void>} goodsInfo\r\n     */\r\n    async getContentInfoData() {\r\n      const params = this.routeData.query;\r\n      // 判断是否为编辑状态\r\n      if (!params.contentId) {\r\n        // 根据编辑状态设置title\r\n        // this.$route.meta.title = \"创建内容\";\r\n        return;\r\n      }\r\n      this.isLoading = true;\r\n      // this.$route.meta.title = \"编辑内容\";\r\n      // 请求内容详情数据\r\n      const data = await getContentInfo({ id: params.contentId });\r\n      if (data.code !== STATUS_CODE.success) {\r\n        errorMsg(this, data.msg);\r\n        return;\r\n      }\r\n      this.goodsInfoOrigin = jsonDeepClone(data.result.content); // 备份原始数据\r\n      const contentInfo = data.result.content;\r\n      // const tags = contentInfo.tags.list.map(item => {\r\n      //   return item.id;\r\n      // });\r\n      this.form = {\r\n        type: contentInfo.type, // 内容类别\r\n        describe: contentInfo.describe, // 内容类别\r\n        title: contentInfo.title, // 内容名称\r\n        video: contentInfo.video, // 适配\r\n        // tags: tags, // 内容名称\r\n        cover: contentInfo.cover // 内容主图列表\r\n      };\r\n      this.$set(this.form, \"details\", contentInfo.details); // 初始化富文本内容\r\n      this.$set(this.form, \"status\", contentInfo.status); // 初始化富文本内容\r\n      this.$set(this.form, \"id\", this.routeData.query.contentId); // 设置内容id，更新编辑状态\r\n      this.isLoading = false;\r\n    },\r\n    /**\r\n     * 保存内容\r\n     * @param {String} goodsForm\r\n     * @returns {void}\r\n     */\r\n    async save(goodsForm) {\r\n      const data = jsonDeepClone(this.form);\r\n      this.$refs[goodsForm].validate(async valid => {\r\n        if (!valid) {\r\n          return false;\r\n        }\r\n        if (!this.form.cover) {\r\n          warningMsg(this, \"请上传内容主图\");\r\n          return false;\r\n        }\r\n        if (!data.details.trim()) {\r\n          warningMsg(this, \"请填写内容详情\");\r\n          return false;\r\n        }\r\n        // const tags = data.tags.map(item => {\r\n        //   return {\r\n        //     id: item\r\n        //   };\r\n        // });\r\n        const params = {\r\n          content: {\r\n            id: data.id || undefined, // 内容id\r\n            title: data.title, // 内容名称\r\n            cover: data.cover, // 内容背景图\r\n            details: data.details, // 内容详情(富文本)\r\n            status: data.status, // 内容详情(富文本)\r\n            type: data.type, // 内容分类\r\n            video: data.video, // 视频\r\n            // tags: {\r\n            //   list: tags\r\n            // }, // 标签\r\n            describe: data.describe // 内容描述\r\n          }\r\n        };\r\n        const response = await createContent(params);\r\n        setTimeout(() => {\r\n          this.isDraft = false;\r\n          this.isRelease = false;\r\n        }, 500);\r\n        if (response.code !== STATUS_CODE.success) {\r\n          errorMsg(this, response.msg);\r\n          return;\r\n        }\r\n        successMsg(this, `${data.id ? \"编辑成功\" : \"创建成功\"}`);\r\n        await this.$router.replace(this.routeData.query.path_);\r\n      });\r\n    }\r\n  }\r\n};\r\n","<template>\r\n  <el-container class=\"layout\">\r\n    <el-header height=\"31px\" class=\"goods-created-layout\">\r\n      <el-breadcrumb v-if=\"routeData.query.path_\">\r\n        <el-breadcrumb-item :to=\"{ path: routeData.query.path_ }\">\r\n          {{ routeData.query.title_ }}\r\n        </el-breadcrumb-item>\r\n        <el-breadcrumb-item>{{ routeData.meta.title }}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-header>\r\n    <el-main>\r\n      <el-form\r\n        v-loading=\"isLoading\"\r\n        :rules=\"rules\"\r\n        size=\"medium\"\r\n        class=\"from-layout\"\r\n        ref=\"goodsForm\"\r\n        label-position=\"left\"\r\n        :model=\"form\"\r\n      >\r\n        <el-card class=\"box-card\" shadow=\"never\" body-style=\"border: 0;\">\r\n          <div slot=\"header\" class=\"from-layout-title\">\r\n            <div>基本信息</div>\r\n            <el-button type=\"text\" @click=\"show1 = !show1\" size=\"mini\">\r\n              {{ show1 ? \"收起\" : \"展开\" }}\r\n              <i\r\n                style=\"font-weight: bolder\"\r\n                :class=\"[show1 ? 'el-icon-arrow-up' : 'el-icon-arrow-down']\"\r\n              ></i>\r\n            </el-button>\r\n          </div>\r\n          <el-collapse-transition>\r\n            <el-main v-show=\"show1\" class=\"card-content\">\r\n              <el-form-item label=\"内容分类\" prop=\"type\">\r\n                <el-select\r\n                  v-model=\"form.type\"\r\n                  filterable\r\n                  placeholder=\"请选择内容分类\"\r\n                >\r\n                  <el-option\r\n                    style=\"width: 217px\"\r\n                    v-for=\"item in contentTypeList\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.name\"\r\n                    :title=\"item.name\"\r\n                    :value=\"item.id\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item label=\"内容标题\" prop=\"title\">\r\n                <el-input\r\n                  style=\"width: 350px;\"\r\n                  clearable\r\n                  placeholder=\"请输入内容标题\"\r\n                  v-model=\"form.title\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"内容描述\" prop=\"describe\">\r\n                <el-input\r\n                  type=\"textarea\"\r\n                  maxlength=\"200\"\r\n                  show-word-limit\r\n                  style=\"width: 750px;\"\r\n                  clearable\r\n                  placeholder=\"请输入内容描述\"\r\n                  v-model=\"form.describe\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <template slot=\"label\">\r\n                  <font color=\"#F56C6C\">*</font>\r\n                  视频封面\r\n                </template>\r\n                <image-upload :image.sync=\"form.cover\" :size=\"{width: 430, height: 240}\" />\r\n              </el-form-item>\r\n              <el-form-item prop=\"video\">\r\n                <template slot=\"label\">\r\n                  <font color=\"#F56C6C\">*</font>\r\n                  商品视频\r\n                </template>\r\n                <video-upload :video.sync=\"form.video\" />\r\n              </el-form-item>\r\n            </el-main>\r\n          </el-collapse-transition>\r\n        </el-card>\r\n        <el-card class=\"box-card\" shadow=\"never\" body-style=\"border: 0;\">\r\n          <div slot=\"header\" class=\"from-layout-title\">\r\n            <div>内容详情</div>\r\n            <el-button type=\"text\" @click=\"show3 = !show3\" size=\"mini\">\r\n              {{ show3 ? \"收起\" : \"展开\" }}\r\n              <i\r\n                style=\"font-weight: bolder\"\r\n                :class=\"[show3 ? 'el-icon-arrow-up' : 'el-icon-arrow-down']\"\r\n              ></i>\r\n            </el-button>\r\n          </div>\r\n          <el-collapse-transition>\r\n            <el-main v-show=\"show3\" class=\"card-content\">\r\n              <div class=\"form-titles\">\r\n                <font color=\"#F56C6C\">*</font> 内容正文\r\n              </div>\r\n              <editor :content.sync=\"form.details\" :layout=\"editLayout\" />\r\n            </el-main>\r\n          </el-collapse-transition>\r\n        </el-card>\r\n        <el-form-item class=\"from-operation\">\r\n          <el-button\r\n            type=\"primary\"\r\n            :disabled=\"isRelease\"\r\n            :loading=\"isRelease\"\r\n            @click=\"save('goodsForm')\"\r\n            >保存</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-main>\r\n    <el-dialog\r\n      title=\"内容详情预览\"\r\n      class=\"goodsInfoView-box\"\r\n      fullscreen\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"50%\"\r\n    >\r\n      <div class=\"goodsInfoView-content\" v-html=\"form.goodsInfo\"></div>\r\n      <!--      <span slot=\"title\" class=\"dialog-footer\">-->\r\n      <!--        <el-button type=\"primary\" @click=\"dialogVisible = true\">确 定</el-button>-->\r\n      <!--      </span>-->\r\n    </el-dialog>\r\n  </el-container>\r\n</template>\r\n<script>\r\nimport index from \"./controller/index\";\r\nexport default index;\r\n</script>\r\n<style src=\"./css/index.scss\" scoped lang=\"scss\"></style>\r\n<style lang=\"scss\" src=\"./css/global.scss\"></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=659010c3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./css/index.scss?vue&type=style&index=0&id=659010c3&scoped=true&lang=scss&\"\nimport style1 from \"./css/global.scss?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"659010c3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./global.scss?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./global.scss?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videoUpload\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"auto-upload\":false,\"accept\":\".mp4,.mkv,.avi\",\"on-change\":_vm.videoSelect,\"show-file-list\":false}},[_c('div',{staticClass:\"el-upload--picture-card\",attrs:{\"title\":\"点击上传视频\"}},[(_vm.videoUrl)?_c('video',{ref:\"video\",attrs:{\"width\":\"100%\",\"height\":\"224px\",\"controls\":\"controls\"}},[_c('source',{attrs:{\"src\":_vm.videoUrl,\"type\":\"video/mp4\"}})]):(!_vm.isUpload)?_c('div',{staticClass:\"upload-tip\"},[_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]):_vm._e(),(_vm.isUpload)?_c('div',{staticClass:\"upload-tip progress\"},[_c('el-progress',{attrs:{\"color\":_vm.customColor,\"text-inside\":true,\"stroke-width\":13,\"status\":_vm.exception,\"percentage\":_vm.progress}}),_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"font-size\":\"16px\",\"color\":\"#ff7736\"},attrs:{\"title\":\"取消上传\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancelUpload($event)}}})],1):_vm._e()])]),_c('div',{staticClass:\"tip-text\"},[_vm._v(\" 仅限上传不超过50M的视频文件 \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"videoUpload\">\r\n    <el-upload\r\n      class=\"avatar-uploader\"\r\n      action=\"\"\r\n      :auto-upload=\"false\"\r\n      accept=\".mp4,.mkv,.avi\"\r\n      :on-change=\"videoSelect\"\r\n      :show-file-list=\"false\"\r\n    >\r\n      <div class=\"el-upload--picture-card\" title=\"点击上传视频\">\r\n        <video\r\n          ref=\"video\"\r\n          v-if=\"videoUrl\"\r\n          width=\"100%\"\r\n          height=\"224px\"\r\n          controls=\"controls\"\r\n        >\r\n          <source :src=\"videoUrl\" type=\"video/mp4\" />\r\n        </video>\r\n        <div v-else-if=\"!isUpload\" class=\"upload-tip\">\r\n          <i class=\"el-icon-plus avatar-uploader-icon\" />\r\n          <!--                      <font size=\"1\">(仅限上传不超过50M的视频文件)</font>-->\r\n        </div>\r\n        <div v-if=\"isUpload\" class=\"upload-tip progress\">\r\n          <el-progress\r\n            :color=\"customColor\"\r\n            :text-inside=\"true\"\r\n            :stroke-width=\"13\"\r\n            :status=\"exception\"\r\n            :percentage=\"progress\"\r\n          ></el-progress>\r\n          <i\r\n            style=\"font-size: 16px; color: #ff7736\"\r\n            title=\"取消上传\"\r\n            @click.stop=\"cancelUpload\"\r\n            class=\"el-icon-error\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </el-upload>\r\n    <div class=\"tip-text\">\r\n      仅限上传不超过50M的视频文件\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { errorMsg, uuid, warningMsg } from \"@/commonutils/common\";\r\nimport { OssRequset } from \"@/commonutils/aliOSS\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"videoUpload\",\r\n  data() {\r\n    return {\r\n      client: null,\r\n      progress: 0,\r\n      customColor: \"26AF61\",\r\n      isUpload: false,\r\n      videoUrl: \"\",\r\n      exception: \"success\"\r\n    };\r\n  },\r\n  props: {\r\n    video: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    video: {\r\n      handler(val) {\r\n        this.videoUrl = val;\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"user\", \"aliyunOss\"])\r\n  },\r\n  methods: {\r\n    /**\r\n     * 取消文件上传\r\n     * @returns {void}\r\n     */\r\n    cancelUpload() {\r\n      if (this.client) {\r\n        this.client.cancel();\r\n        setTimeout(() => {\r\n          this.isUpload = false;\r\n          this.progress = 0;\r\n        }, 200);\r\n      }\r\n    },\r\n    /**\r\n     * 添加视频成功时返回\r\n     * @param {Object} file\r\n     * @returns {void}\r\n     */\r\n    async videoSelect(file) {\r\n      if (this.client) {\r\n        warningMsg(this, \"视频正在上传请不要重复上传！\");\r\n        return;\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 50; // 图片大小\r\n      if (!isLt2M) {\r\n        this.$message.error(\"视频文件大小不能超过 50MB!\");\r\n      }\r\n      const image = file.raw;\r\n      this.isUpload = true;\r\n      this.customColor = \"#26AF61\";\r\n      if (this.videoUrl) {\r\n        this.$refs.video.load();\r\n      }\r\n      this.client = await OssRequset(\"video\");\r\n      const _obj = this.aliyunOss.vdoPath + \"/\" + uuid();\r\n      this.client\r\n        .multipartUpload(_obj, image, {\r\n          progress: p => {\r\n            //获取进度条的值\r\n            this.progress = parseInt(p * 100);\r\n          }\r\n        })\r\n        .then(result => {\r\n          //下面是如果对返回结果再进行处理，根据项目需要\r\n          this.videoUrl = this.aliyunOss.vdoHost + result.name;\r\n          this.$emit(\"update:video\", this.aliyunOss.vdoHost + result.name);\r\n          this.$nextTick(() => {\r\n            this.$refs.video.load();\r\n          });\r\n          this.$forceUpdate();\r\n          this.isUpload = false;\r\n          this.progress = 0;\r\n          this.client = null;\r\n        })\r\n        .catch(err => {\r\n          if (err.status === 0 && err.name === \"cancel\") {\r\n            warningMsg(this, \"已取消上传\");\r\n          } else {\r\n            errorMsg(this, err);\r\n          }\r\n          this.isUpload = false;\r\n          this.customColor = \"#f56c6c\";\r\n          this.client = null;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./videoUpload\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=268eca8e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=268eca8e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"268eca8e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=268eca8e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=268eca8e&lang=scss&scoped=true&\"","/**\r\n *  Created by wangAlen on 2019-12-16 10:00\r\n */\r\nimport ajax from \"@/api/ajax\";\r\n/**\r\n * 根据条件查询内容列表\r\n * @method\r\n * @param {Object} params 订单条件查询信息\r\n * @return {Object} 返回值 包括code,msg,result\r\n */\r\nexport const getContentList = (params = {}) =>\r\n  ajax(\r\n    \"/api/mall/manager/goods/content/list\",\r\n    {\r\n      page: params.page,\r\n      pageSize: params.pageSize,\r\n      keyword: params.keyword,\r\n      status: params.status,\r\n      type: params.id\r\n    },\r\n    \"POST\"\r\n  );\r\nexport const contentTypeList = [\r\n  {\r\n    name: \"所有\",\r\n    id: 0\r\n  },\r\n  {\r\n    name: \"公司新闻\",\r\n    id: 1\r\n  },\r\n  {\r\n    name: \"行业新闻\",\r\n    id: 2\r\n  },\r\n  {\r\n    name: \"产品评测\",\r\n    id: 3\r\n  },\r\n  {\r\n    name: \"术语解释\",\r\n    id: 4\r\n  }\r\n];\r\n/**\r\n * 变更内容状态\r\n * @method\r\n * @param {Object} params 内容参数信息\r\n * @return {Object} 返回值 包括code,msg,result\r\n */\r\nexport const updateStatus = (params = {}) =>\r\n  ajax(\r\n    \"/api/mall/manager/content/updateStatus\",\r\n    {\r\n      id: params.id,\r\n      status: params.status\r\n    },\r\n    \"POST\"\r\n  );\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./index.scss?vue&type=style&index=0&id=659010c3&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./index.scss?vue&type=style&index=0&id=659010c3&scoped=true&lang=scss&\""],"sourceRoot":""}